"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62971],{6527:function(t,e,r){r.r(e),r.d(e,{Snackbar:function(){return m}});var a=r(59499),n=r(43267),i=r(63123),o=r(51741),s=r(45446),c=r(41055),u=r(2397),d=r(85893);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){(0,a.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m=function(t){var e=t.isOpen,r=t.isSizeLimitWarning,a=void 0!==r&&r,l=t.addToCartStatus,m=t.handleSnackbarClose,f=(0,n.$G)(u.jey).t,p=(0,c.W)(),C=l.status,S=l.error,b={addToCartSuccess:f("common:actions_added_to_cart"),addToCartWarning:f("notifications:label_add_to_cart_failure"),sizeLimitWarning:f("ent:cart_size_limit_warning",{LIMIT:s.fv}),viewActionLabel:f("common:actions_view")},g=function(t){var e=t.status,r=t.isSizeLimitWarning,a=t.alertLabels;return r?a.sizeLimitWarning:e===o.MR?a.addToCartSuccess:a.addToCartWarning}({status:C,isSizeLimitWarning:a,alertLabels:b}),y={onClick:p,label:b.viewActionLabel};return(0,d.jsx)(i.DynamicSnackbar,v(v({},l.status===o.MR&&{alertAction:y}),{},{alertSeverity:C,error:S,handleSnackbarClose:m,isOpen:e&&!!C,message:g}))}},62971:function(t,e,r){r.d(e,{J:function(){return b},t:function(){return g}});var a=r(50029),n=r(87794),i=r.n(n),o=r(67294),s=r(41274),c=r(73213),u=r(59499),d=r(4730),l=r(5152),v=r(85893),m=["isActive"];function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}var p=(0,l.default)((function(){return Promise.all([r.e(98940),r.e(55296),r.e(52387),r.e(38799),r.e(16944),r.e(59423),r.e(80158),r.e(49242),r.e(44497),r.e(84026),r.e(71403)]).then(r.bind(r,3956)).then((function(t){return t.AddToCartDialog}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[3956]}}}),C=function(t){var e=t.isActive,r=(0,d.Z)(t,m);return(0,c.B)(e)&&(0,v.jsx)(p,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){(0,u.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({isActive:e},r))},S=r(6527),b=function(t){var e=t.addToCartStatus,r=t.assets,a=t.eventLabel,n=t.gridItems,i=t.isAddToCartDialogActive,o=t.isPrimary,s=t.isSnackBarOpen,u=t.isSizeLimitWarning,d=t.onAddToCart,l=t.onAlertSnackbarClose,m=t.setIsAddToCartDialogActive,f=t.pageSection,p=t.listId;return(0,c.B)(r)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(C,{assets:r,eventLabel:a,gridItems:n,isActive:i,isPrimary:o,listId:p,onAddToCart:d,pageSection:f,setIsActive:m}),(0,v.jsx)(S.Snackbar,{addToCartStatus:e,handleSnackbarClose:l,isOpen:s,isSizeLimitWarning:u})]}):null};b.defaultProps={addToCartStatus:{status:"",error:void 0},assets:null,gridItems:null};var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.withOptimisticUpdate,r=void 0===e||e,n=t.setIsVerifying,c=(0,o.useState)(!1),u=c[0],d=c[1],l=(0,o.useState)(!1),v=l[0],m=l[1],f=(0,o.useState)(null),p=f[0],C=f[1],S=(0,o.useState)(null),g=S[0],y=S[1],O=(0,o.useState)(!0),P=O[0],L=O[1],T=(0,o.useState)(null),h=T[0],k=T[1],w=(0,o.useState)(null),j=w[0],A=w[1],I=(0,o.useState)(null),D=I[0],_=I[1],F=(0,s.gV)(),W=F.addCartItems,x=F.moveToSaveForLater,M=F.moveToPrimary,Z=F.addToCartStatus,z=F.isSizeLimitWarning,B=F.notAddedSelectVideos;(0,o.useEffect)((function(){return function(){return C(null)}}),[]);var V=(0,o.useCallback)((function(t){var e=t.assets,a=t.eventLabel,i=t.licenseId,o=t.formatType,s=t.licensePrice,c=t.cart,u=t.mutateCart,d=t.notAddedSelectVideoIds,l=t.pageSection,v=t.listId;null===n||void 0===n||n(!0),m(!0),W({cart:c,eventLabel:a,gridItems:g,isPrimary:P,itemsToAdd:e||p,licenseId:i,formatType:o,licensePrice:s,mutateCart:u,notAddedSelectVideoIds:d,withOptimisticUpdate:r,pageSection:l,listId:v})}),[p,g,W,P,n,r]),E=(0,o.useCallback)(function(){var t=(0,a.Z)(i().mark((function t(e){var r,a,o,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.itemsToMove,a=e.primaryCart,o=e.mutatePrimaryCart,s=e.mutateSavedForLaterCart,null===n||void 0===n||n(!0),m(!0),t.prev=3,t.next=6,M({itemsToMove:r,primaryCart:a,mutatePrimaryCart:o,mutateSavedForLaterCart:s});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),null===n||void 0===n||n(!1);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),[M,n]),R=(0,o.useCallback)(function(){var t=(0,a.Z)(i().mark((function t(e){var r,a,o,s,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.itemsToMove,a=e.primaryCart,o=e.savedForLaterCart,s=e.mutatePrimaryCart,c=e.mutateSavedForLaterCart,null===n||void 0===n||n(!0),m(!0),t.prev=3,t.next=6,x({itemsToMove:r,primaryCart:a,savedForLaterCart:o,mutatePrimaryCart:s,mutateSavedForLaterCart:c});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),null===n||void 0===n||n(!1);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),[x,n]),U=(0,o.useMemo)((function(){return{addToCartStatus:Z,assets:p,eventLabel:D,gridItems:g,isAddToCartDialogActive:u,isPrimary:P,isSizeLimitWarning:z,isSnackBarOpen:v,onAddToCart:V,onAlertSnackbarClose:function(){return m(!1)},notAddedSelectVideos:B,setIsAddToCartDialogActive:d,pageSection:h,listId:j}}),[p,g,Z,D,j,h,u,P,z,v,B,V]),G=(0,o.useCallback)((function(t){var e=t.assets,r=t.eventLabel,a=t.gridItems,n=t.isMoveToPrimaryCart,i=void 0!==n&&n,o=t.isMoveToSavedForLaterCart,s=void 0!==o&&o,c=t.isPrimaryCart,u=void 0===c||c,l=t.mutatePrimaryCart,v=t.mutateSavedForLaterCart,m=t.primaryCart,f=t.savedForLaterCart,p=t.withDialog,S=void 0===p||p,b=t.licenseId,g=t.licensePrice,O=t.pageSection,P=t.listId;C(e),L(u),k(O),_(r),A(P),a&&y(a),i?E({itemsToMove:e,primaryCart:m,mutatePrimaryCart:l,mutateSavedForLaterCart:v}):s?R({itemsToMove:e,primaryCart:m,savedForLaterCart:f,mutatePrimaryCart:l,mutateSavedForLaterCart:v}):S?d(!0):V({assets:e,eventLabel:r,cart:m,licenseId:b,licensePrice:g,mutateCart:l,pageSection:O})}),[V,E,R]);return{addToCartViewsProps:U,addToCartViewsHandler:G,AddToCartViews:b}}},28411:function(t,e,r){r.d(e,{k:function(){return d}});var a=r(17674),n=r(11163),i=r(67294),o=r(71370),s=r(64918),c=r(69648),u=r(53342),d=function(){var t=(0,s.D)().isBrandSstk,e=(0,n.useRouter)(),r=(0,c.B)(),d=(0,u.j)({isLoggedInUser:r,isBrandSstk:t});return(0,i.useMemo)((function(){var r=(0,a.Z)(d,1)[0];return t?(0,o.DW)({language:e.locale,relativePath:r}):r}),[d,t,e])}},41055:function(t,e,r){r.d(e,{W:function(){return s}});var a=r(11163),n=r(67294),i=r(64918),o=r(28411),s=function(){var t=(0,o.k)(),e=(0,i.D)().isBrandSstk,r=(0,a.useRouter)();return(0,n.useCallback)((function(){e?window.location.href=t:r.push(t)}),[t,e,r])}},53342:function(t,e,r){r.d(e,{A:function(){return p},j:function(){return f}});var a,n=r(59499),i=r(11987),o=r.n(i),s=r(45446),c=r(41820),u="cart",d="content-license",l="ecomm-logged-in",v="success",m=(0,n.Z)({},u,(a={},(0,n.Z)(a,c.Dx,s.Is),(0,n.Z)(a,l,s.nK),(0,n.Z)(a,d,(0,n.Z)({},v,"".concat(s.Is,"/").concat(d,"/").concat(v))),a)),f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isLoggedInUser,r=t.isBrandSstk,a=m.cart[e&&r?l:c.Dx];return[a,a]},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o().format({pathname:m.cart[d].success,query:t});return[e,e]}}}]);